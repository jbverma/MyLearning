<?xml version="1.0"?>
<!-- ======================================================================= -->
<!--                      DO NOT MODIFY THIS FILE!                           -->
<!-- The name of the project and its version number are defined in the       -->
<!-- build.properties file as "project.name" and "project.version"           -->
<!-- ======================================================================= -->
<project name="iht-core" default="dist" basedir=".">

	<property environment="env" />
	<property file="${basedir}/build.properties" />

	<property name="src.dir"      location="${basedir}/src"/>
	<property name="build.dir"            location="${basedir}/build" />
	<property name="build.classes.dir"    location="${build.dir}/classes" />
	<property name="jar.dir"      location="${basedir}/dist/jar"/>
	
	<property name="jar.file.name" value="${project.name}.jar" />

	<path id="compile.classpath">
		<fileset dir="${lib.dir}">
			<!-- exclude jar built by this project -->
			<exclude name="${jar.file.name}" />
		</fileset>
	</path>
	
	<target name="init" >
	      <!-- Fail if mandatory parameters not defined -->
	      <!--<fail message="Missing or empty project.name in build.properties"
	            unless= "project.name.defined" />
	      <fail message="Missing or empty project.version in build.properties"
	            unless= "project.version.defined" />-->
	      <!-- Set build timestamp (to be written to jar manifest) -->
	      <!--<tstamp>
	         <format property="build.timestamp" pattern="yyyy-MM-dd HH:mm z"/>
	      </tstamp>-->

	      <!-- initialize build related directories -->
	      <mkdir dir="${build.dir}"/>	      
	      <mkdir dir="${build.classes.dir}"/>	      
	      <mkdir dir="${jar.dir}"/>	      

	   </target>
	<target name="clean">
	      <delete dir="${build.dir}" includeEmptyDirs="true" />
	      <delete dir="${build.classes.dir}"   includeEmptyDirs="true" />
	      <delete dir="${jar.dir}"  includeEmptyDirs="true" />
	   </target>
	
	<target name="distjar" depends="compile">
		<jar destfile="${jar.dir}/${jar.file.name}" index="true">
			<fileset dir="${build.classes.dir}" />

		</jar>
	</target>

	<target name="compile" depends="clean, init">
		<javac srcdir="${src.dir}" destdir="${build.classes.dir}" deprecation="on">
			<include name="**/*.java" />
			<classpath refid="compile.classpath" />
		</javac>
		<!-- copy all the data files to the build classpath as well -->
		<copy todir="${build.classes.dir}">
			<fileset dir="${src.dir}" includes="**/*.properties,**/*.dtd,**/*.xml,**/*.xsd" />
		</copy>
	</target>

	<target name="dist" depends="distjar">
	</target>
</project>
